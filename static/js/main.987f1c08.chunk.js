(this.webpackJsonptask=this.webpackJsonptask||[]).push([[0],{25:function(e,t){},44:function(e,t,n){},45:function(e,t,n){},50:function(e,t){},51:function(e,t){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(35),i=n.n(s),l=(n(44),n(45),n(8)),o=n(10),d=n(19),u=n(2),j=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=(t[0],t[1],Object(u.f)());return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"index",children:Object(c.jsx)("h1",{children:"WELCOME"})}),Object(c.jsx)(o.b,{className:"btn btn-dark",id:"btn1",to:"/add",children:"Add from Scratch"}),Object(c.jsxs)("div",{className:"centered",children:[Object(c.jsx)("input",{id:"btn2",type:"file",accept:".csv",onChange:function(e){var t=e.target.files[0],c=new FileReader;c.onload=function(e){var t=e.target.result,c=d.read(t,{type:"binary"}),a=c.SheetNames[0],r=c.Sheets[a];!function(e){for(var t=e.split(/\r\n|\n/),c=t[0].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/),a=[],r=1;r<t.length;r++){var s=t[r].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/);if(c&&s.length===c.length){for(var i={},l=0;l<c.length;l++){var o=s[l];o.length>0&&('"'===o[0]&&(o=o.substring(1,o.length-1)),'"'===o[o.length-1]&&(o=o.substring(o.length-2,1))),c[l]&&(i[c[l]]=o)}Object.values(i).filter((function(e){return e})).length>0&&(a.push(i),localStorage.setItem("add",a[0].address),localStorage.setItem("bath",a[0].Bathroom),localStorage.setItem("bed",a[0].Bedroom),localStorage.setItem("desc",a[0].Desc),n.push("/add"))}}}(d.utils.sheet_to_csv(r,{header:1}))},c.readAsBinaryString(t)},hidden:!0}),Object(c.jsx)("label",{className:"btn btn-success",id:"btn2",for:"btn2",children:"upload as CSV"})]})]})},b=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],s=n[1],i=localStorage.getItem("add");Object(a.useEffect)((function(){o()}),[]);var o=function(){var t=new window.google.maps.places.Autocomplete(e.current);new window.google.maps.event.addListener(t,"place_changed",(function(){var e=t.getPlace();s({address:e.formatted_address})}))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{type:"text",className:"form-control form-control-lg",ref:e,value:i||r,required:!0}),r&&Object(c.jsx)("div",{style:{marginTop:20,lineHeight:"0px"}})]})};function f(){var e=localStorage.getItem("bath"),t=localStorage.getItem("bed"),n=localStorage.getItem("desc"),r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],d=s[1];return Object(a.useEffect)((function(){!function(e){if("object"===typeof window.google&&"object"===typeof window.google.maps)e();else{var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDfL0pH1w-hHzX9nCRLex-u77rExH-U7lI","&libraries=places"),window.document.body.appendChild(t),t.addEventListener("load",e)}}((function(){d(!0)}))}),[]),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Add Data"}),Object(c.jsx)("div",{className:"form-group",children:i?Object(c.jsx)(b,{}):Object(c.jsx)("div",{children:"Loading..."})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"number",className:"form-control form-control-lg",placeholder:"Bedroom",max:"10",min:"1",maxLength:"10",value:t||"",required:!0})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"number",className:"form-control form-control-lg",placeholder:"Bathroom",max:"5",min:"1",maxLength:"5",value:e||"",required:!0})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("textarea",{value:n||"",className:"form-control",id:"exampleFormControlTextarea1",rows:"5",placeholder:"Description of the Property"})}),Object(c.jsx)(u.c,{children:Object(c.jsx)(o.b,{className:"btn btn-primary btn-block",to:"/imgup",type:"submit",children:"Submit"})})]})})})}var m=n(22),p=n.n(m),h=n(37),O=n(9),g=n(38),x=n.n(g),v=function(){var e=Object(u.f)(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),s=Object(a.useRef)(),i=Object(a.useRef)(),o=Object(a.useRef)(),d=Object(a.useState)([]),j=Object(l.a)(d,2),b=j[0],f=j[1],m=Object(a.useState)([]),g=Object(l.a)(m,2),v=g[0],N=g[1],y=Object(a.useState)([]),k=Object(l.a)(y,2),w=k[0],S=k[1],I=Object(a.useState)(""),C=Object(l.a)(I,2),D=C[0],L=C[1];Object(a.useEffect)((function(){var e=b.reduce((function(e,t){return e.find((function(e){return e.name===t.name}))?e:e.concat([t])}),[]);N(Object(O.a)(e))}),[b]);var F=function(e){e.preventDefault()},B=function(e){for(var t=function(t){M(e[t])?f((function(n){return[].concat(Object(O.a)(n),[e[t]])})):(e[t].invalid=!0,f((function(n){return[].concat(Object(O.a)(n),[e[t]])})),L("File type not permitted"),S((function(n){return[].concat(Object(O.a)(n),[e[t]])})))},n=0;n<e.length;n++)t(n)},M=function(e){return-1!==["image/jpeg","image/jpg","image/png"].indexOf(e.type)},E=function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]},R=function(e){var t=v.findIndex((function(t){return t.name===e})),n=b.findIndex((function(t){return t.name===e})),c=w.findIndex((function(t){return t.name===e}));v.splice(t,1),b.splice(n,1),N(Object(O.a)(v)),f(Object(O.a)(b)),-1!==c&&(w.splice(c,1),S(Object(O.a)(w)))},H=function(){var t=Object(h.a)(p.a.mark((function t(){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o.current.style.display="block",i.current.innerHTML="File(s) Uploading...",n=0;n<v.length;n++)(c=new FormData).append("image",v[n]),c.append("key","3b23c8608d9c52a98ce4cefab37faccd"),x.a.post("https://api.imgbb.com/1/upload",c,{onUploadProgress:function(t){var n=Math.floor(t.loaded/t.total*100);s.current.innerHTML="".concat(n,"%"),s.current.style.width="".concat(n,"%"),100===n&&(i.current.innerHTML="File(s) Uploaded",v.length=0,N(Object(O.a)(v)),f(Object(O.a)(v)),S(Object(O.a)(v)),e.push("/"))}}).catch((function(){i.current.innerHTML='<span class="error">Error Uploading File(s)</span>',s.current.style.backgroundColor="red"}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"container",children:[0===w.length&&v.length?Object(c.jsx)("button",{className:"file-upload-btn",onClick:function(){return H()},children:"Submit"}):"",w.length?Object(c.jsx)("p",{children:"Please remove all unsupported files."}):"",Object(c.jsxs)("div",{className:"drop-container",onDragOver:function(e){F(e)},onDragEnter:function(e){F(e)},onDragLeave:function(e){F(e)},onDrop:function(e){F(e);var t=e.dataTransfer.files;t.length&&B(t)},onClick:function(){t.current.click()},children:[Object(c.jsxs)("div",{className:"drop-message",children:[Object(c.jsx)("div",{className:"upload-icon"}),"Drag & Drop files here or click to select file(s)"]}),Object(c.jsx)("input",{ref:t,className:"file-input",type:"file",multiple:!0,onChange:function(){t.current.files.length&&B(t.current.files)},hidden:!0})]}),Object(c.jsx)("div",{className:"file-display-container",children:v.map((function(e,t){return Object(c.jsxs)("div",{className:"file-status-bar",children:[Object(c.jsxs)("div",{onClick:e.invalid?function(){return R(e.name)}:function(){return function(e){var t=new FileReader;r.current.style.display="block",t.readAsDataURL(e),t.onload=function(e){n.current.style.backgroundImage="url(".concat(e.target.result,")")}}(e)},children:[Object(c.jsx)("div",{className:"file-type-logo"}),Object(c.jsx)("div",{className:"file-type",children:(a=e.name,a.substring(a.lastIndexOf(".")+1,a.length)||a)}),Object(c.jsx)("span",{className:"file-name ".concat(e.invalid?"file-error":""),children:e.name}),Object(c.jsxs)("span",{className:"file-size",children:["(",E(e.size),")"]})," ",e.invalid&&Object(c.jsxs)("span",{className:"file-error-message",children:["(",D,")"]}),Object(c.jsx)("div",{class:"form-check form-check-inline",children:Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"})})]}),Object(c.jsx)("div",{className:"file-remove",onClick:function(){return R(e.name)},children:"X"})]},t);var a}))})]}),Object(c.jsxs)("div",{className:"modal",ref:r,children:[Object(c.jsx)("div",{className:"overlay"}),Object(c.jsx)("span",{className:"close",onClick:function(){return r.current.style.display="none",void(n.current.style.backgroundImage="none")},children:"X"}),Object(c.jsx)("div",{className:"modal-image",ref:n})]}),Object(c.jsxs)("div",{className:"upload-modal",ref:o,children:[Object(c.jsx)("div",{className:"overlay"}),Object(c.jsx)("div",{className:"close",onClick:function(){o.current.style.display="none"},children:"X"}),Object(c.jsxs)("div",{className:"progress-container",children:[Object(c.jsx)("span",{ref:i}),Object(c.jsx)("div",{className:"progress",children:Object(c.jsx)("div",{className:"progress-bar",ref:s})})]})]})]})})};var N=function(){return Object(c.jsxs)("div",{className:"container my-2",children:[Object(c.jsx)("p",{className:"title text-center",children:"Drag and Drop Image Upload"}),Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)(v,{})})]})};var y=function(){return Object(c.jsx)(o.a,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/",component:j}),Object(c.jsx)(u.a,{exact:!0,path:"/add",component:f}),Object(c.jsx)(u.a,{exact:!0,path:"/imgup",component:N})]})})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.987f1c08.chunk.js.map